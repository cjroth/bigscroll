<!doctype>
<html>
    <head>
        <style>
            body {
                margin: 0;
            }
            #container {
                width: 80vw;
                height: 100vh;
            }
            #table > .cell {
                display: block;
                width: 100%;
                height: 50px;
                line-height: 30px;
                padding: 10px;
                box-sizing: border-box;
            }
            #debug {
                position: fixed;
                top: 0;
                right: 0;
                width: 20vw;
                height: 100vh;
                background: #eee;
                padding: 20px;
                margin: 0;
                box-sizing: border-box;
            }
            #debug > dt {
                display: inline-block;
                width: 75%;
                margin: 0 0 10px 0;
            }
            #debug > dd {
                text-align: right;
                display: inline-block;
                width: 25%;
                margin: 0 0 10px 0;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <div id="table"></div>
        </div>
    </body>
    <script src="virtual-scroll.js"></script>
    <script>

        let cell = document.createElement('div')
        cell.setAttribute('class', 'cell')

        let data = []
        for (let i = 0; i < 335544; i++) {
            let number = Math.random()
            data.push(number)
        }

        let table = new VirtualScroll({
            element: document.getElementById('table'),
            data,
            cellHeight: 50,
            debug: true,
            cell,
            update: (cell, value) => {
                cell.innerHTML = String(value)
                let g = Math.round(value * 255)
                cell.style.background = `rgba(255, ${g}, 255, 1)`
            }
        })

    </script>
</html>
